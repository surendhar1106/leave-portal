<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Faculty Dashboard</title>
  <link rel="stylesheet" href="{{url_for('static', filename='faculty_dashboard.css')}}">
</head>
<body>

  <div class="dashboard-container">
    <h2 class="dashboard-title">Faculty Dashboard</h2>

    <!-- Faculty Info Section -->
    <div class="info-box">
      {%if f_info%}
      <p><strong>Faculty Name:</strong>{{ f_info['name'] }}</p>
      <p><strong>Staff ID:</strong>{{ f_info['faculty_id'] }}</p>
      {%endif%}
    </div>

    <!-- Leave Requests Header -->
    <h3 class="leave-title">Leave Requests from Your Students</h3>

    {% for req in requests %}
    <div class="leave-request">
      
      <!-- Student Info Header -->
      <div class="student-info-header">
        <span class="student-name">{{ req['student_name'] }}</span>
        <span class="student-id">ID: {{ req['st_id'] }}</span>
      </div>

      <!-- Leave Details -->
      <p><strong>Leave Type:</strong> {{ req['leave_type'] }}</p>
      <p><strong>From:</strong> {{ req['from_date'] }} <strong>To:</strong> {{ req['to_date'] }}</p>
      <p><strong>Reason:</strong> {{ req['reason'] }}</p>
      <p>
        <strong>Status:</strong>
        <span class="status-{{ req['status'].lower() }}">
          <span class="status-badge">{{ req['status'] }}</span>
        </span>
      </p>

      <!-- Action Buttons -->
      {% if req['status'] == 'Pending' %}
      <!-- Replace your action buttons section with this -->
      <div class="action-buttons">
        <form action="/approve/{{ req['id'] }}" method="POST" style="display: inline;">
          <button type="submit" class="approve">✓ Approve</button>
        </form>
        <form action="/reject/{{ req['id'] }}" method="POST" style="display: inline;">
          <button type="submit" class="reject">✗ Reject</button>
        </form>
      </div>
      {% endif %}

    </div>
    {% endfor %}

  </div>

</body>
</html>